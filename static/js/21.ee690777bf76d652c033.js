webpackJsonp([21],{"+hS5":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});String,Number,Date,String,Function,String;var i={name:"yd-countdown",data:function(){return{str:"",timer:null,tempFormat:"",showTpl:!0}},props:{time:{type:[String,Number,Date]},format:{type:String,default:"{%d}天{%h}时{%m}分{%s}秒"},timetype:{validator:function(t){return["datetime","second","timestamp"].indexOf(t)>-1},default:"datetime"},callback:{type:Function},doneText:{type:String,default:"已结束"}},watch:{time:function(t){clearInterval(this.timer),t&&this.run()}},methods:{run:function(){this.time&&("second"===this.timetype?this.lastTime=Math.floor(new Date/1e3)+~~this.time:"timestamp"===this.timetype?this.lastTime=Math.floor(new Date(this.time).getTime()):this.lastTime=Math.floor(new Date(this.time).getTime()/1e3),this.time instanceof Date&&(this.lastTime=Math.floor(this.time.getTime()/1e3)),this.doRun(),this.timer=setInterval(this.doRun,1e3))},doRun:function(){var t=this.lastTime-Math.floor((new Date).getTime()/1e3);t>0?this.str=this.timestampTotime(t):(this.callback&&this.callback(),this.str=this.doneText,clearInterval(this.timer))},timestampTotime:function(t){var e=this.tempFormat,s={};s.s=t%60,t=Math.floor(t/60),s.m=t%60,t=Math.floor(t/60),s.h=t%24,s.d=Math.floor(t/24);var i=function(t){return t<=0?"00":t<10?"0"+t:t};return["d","h","m","s"].forEach(function(t){var a=i(s[t]).toString().split("");e=(e=(e=(e=e.replace("{%"+t+"}",i(s[t]))).replace("{%"+t+"0}",0!=~~a[a.length-3]?a[a.length-3]:"")).replace("{%"+t+"1}",~~a[a.length-2])).replace("{%"+t+"2}",~~a[a.length-1])}),e}},mounted:function(){var t=this;this.$nextTick(function(){t.tempFormat=t.$slots.default?t.$refs.tpl.innerHTML:t.format,t.showTpl=!1,t.run()})},beforeDestroy:function(){clearInterval(this.timer)}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("span",{domProps:{innerHTML:this._s(this.str)}}),this._v(" "),this.showTpl?e("span",{ref:"tpl"},[this._t("default")],2):this._e()])},staticRenderFns:[]},r=s("VU/8")(i,a,!1,null,null,null).exports,n={components:{djs:r}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"listItem"},[s("div",{staticClass:"fl"},[t._v("默认模板")]),t._v(" "),s("djs",{staticClass:"fr",attrs:{slot:"right",time:"2019/06/06 06:06:06"},slot:"right"})],1),t._v(" "),s("div",{staticClass:"listItem"},[s("div",{staticClass:"fl"},[t._v("自定义模板")]),t._v(" "),s("djs",{staticClass:"fr",attrs:{slot:"right",time:"2019/06/06 06:06:06",format:"{%s}秒-{%m}分-{%h}时-{%d}天"},slot:"right"})],1),t._v(" "),s("div",{staticClass:"listItem"},[s("div",{staticClass:"fl"},[t._v("传入（秒）")]),t._v(" "),s("djs",{staticClass:"fr",attrs:{slot:"right",time:666666,timetype:"second"},slot:"right"})],1),t._v(" "),s("div",{staticClass:"listItem"},[s("div",{staticClass:"fl"},[t._v("传入（时间戳）")]),t._v(" "),s("djs",{staticClass:"fr",attrs:{slot:"right",time:1559666666,timetype:"timestamp"},slot:"right"})],1),t._v(" "),s("div",{staticClass:"listItem"},[s("div",{staticClass:"fl"},[t._v("自定义样式")]),t._v(" "),s("djs",{staticClass:"demo-countdown fr",attrs:{slot:"right",time:"2019/08/08 08:08:08"},slot:"right"},[s("span",{staticStyle:{color:"red"}},[t._v("{%d}"),s("i",[t._v("天")])]),t._v(" "),s("span",{staticStyle:{color:"gray"}},[t._v("{%h}"),s("i",[t._v("时")])]),t._v(" "),s("span",{staticStyle:{color:"blue"}},[t._v("{%m}"),s("i",[t._v("分")])]),t._v(" "),s("span",{staticStyle:{color:"orange"}},[t._v("{%s}"),s("i",[t._v("秒")])])])],1)])},staticRenderFns:[]};var o=s("VU/8")(n,l,!1,function(t){s("13uC")},"data-v-75515930",null);e.default=o.exports},"13uC":function(t,e){}});